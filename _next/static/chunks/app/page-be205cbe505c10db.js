(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7913:function(e,t,a){Promise.resolve().then(a.bind(a,3796))},3796:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return O}});var s=a(5434),n=a(113),r=a.n(n),l=a(3936),c=a(8041),i=a(7024),o=a(148),d=a(5258),f=a(116),x=a(700),m=a(7433),u=a(6870),b=a(8483),g=a(2533);let h=u.fC;u.xz;let j=u.h_;u.x8;let p=l.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(u.aV,{ref:t,className:(0,g.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...n})});p.displayName=u.aV.displayName;let y=l.forwardRef((e,t)=>{let{className:a,children:n,...r}=e;return(0,s.jsxs)(j,{children:[(0,s.jsx)(p,{}),(0,s.jsxs)(u.VY,{ref:t,className:(0,g.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...r,children:[n,(0,s.jsxs)(u.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(b.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});y.displayName=u.VY.displayName;let v=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,g.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};v.displayName="DialogHeader";let N=l.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(u.Dx,{ref:t,className:(0,g.cn)("text-lg font-semibold leading-none tracking-tight",a),...n})});N.displayName=u.Dx.displayName,l.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(u.dk,{ref:t,className:(0,g.cn)("text-sm text-muted-foreground",a),...n})}).displayName=u.dk.displayName;var w=a(6522);let D=l.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsxs)(w.fC,{ref:t,className:(0,g.cn)("relative flex w-full touch-none select-none items-center",a),...n,children:[(0,s.jsx)(w.fQ,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:(0,s.jsx)(w.e6,{className:"absolute h-full bg-primary"})}),(0,s.jsx)(w.bU,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]})});function k(e){let{open:t,onOpenChange:a,onCheckIn:n}=e,[r,i]=(0,l.useState)([60]),[u,b]=(0,l.useState)("中等");return(0,s.jsx)(h,{open:t,onOpenChange:a,children:(0,s.jsxs)(y,{className:"max-w-sm mx-auto",children:[(0,s.jsx)(v,{children:(0,s.jsx)(N,{className:"text-center",children:"训练打卡"})}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)(o.Zb,{children:(0,s.jsx)(o.aY,{className:"pt-6",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(x.Z,{className:"h-5 w-5 text-blue-600"}),(0,s.jsx)("span",{className:"font-medium",children:"训练时长"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-3xl font-bold text-blue-600",children:r[0]}),(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"分钟"})]}),(0,s.jsx)(D,{value:r,onValueChange:i,max:180,min:15,step:15,className:"w-full"}),(0,s.jsxs)("div",{className:"flex justify-between text-xs text-gray-500",children:[(0,s.jsx)("span",{children:"15分钟"}),(0,s.jsx)("span",{children:"180分钟"})]})]})})}),(0,s.jsx)(o.Zb,{children:(0,s.jsx)(o.aY,{className:"pt-6",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(m.Z,{className:"h-5 w-5 text-orange-600"}),(0,s.jsx)("span",{className:"font-medium",children:"训练强度"})]}),(0,s.jsx)("div",{className:"space-y-2",children:[{label:"轻松",color:"bg-green-500",description:"热身或恢复训练"},{label:"中等",color:"bg-yellow-500",description:"常规训练强度"},{label:"高强度",color:"bg-red-500",description:"挑战性训练"}].map(e=>(0,s.jsx)("div",{className:"p-3 rounded-lg border-2 cursor-pointer transition-all ".concat(u===e.label?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),onClick:()=>b(e.label),children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-4 h-4 rounded-full ".concat(e.color)}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium",children:e.label}),(0,s.jsx)("div",{className:"text-sm text-gray-500",children:e.description})]})]}),u===e.label&&(0,s.jsx)(f.C,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:"已选择"})]})},e.label))})]})})}),(0,s.jsx)(o.Zb,{className:"bg-gradient-to-r from-blue-50 to-green-50",children:(0,s.jsx)(o.aY,{className:"pt-6",children:(0,s.jsxs)("div",{className:"text-center space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,s.jsx)(c.Z,{className:"h-5 w-5 text-green-600"}),(0,s.jsx)("span",{className:"font-medium",children:"预估消耗"})]}),(0,s.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:[Math.round(r[0]*("高强度"===u?6:"中等"===u?5:4))," 卡路里"]})]})})}),(0,s.jsx)(d.z,{onClick:()=>{n(r[0],u),i([60]),b("中等")},className:"w-full h-12 text-lg bg-gradient-to-r from-blue-600 to-green-600 hover:from-blue-700 hover:to-green-700",children:"完成打卡"})]})]})})}D.displayName=w.fC.displayName;var S=a(3435),C=a(8498),z=a(8419);function O(){let{trainingData:e,userSettings:t,appState:a,addTrainingRecord:n,updateAppState:x,getTodayDateString:m,isTodayCheckedIn:u,calculateCurrentStreak:b,getMonthlyProgress:g}=(0,z.O)(),[h,j]=(0,l.useState)(!1),[p,y]=(0,l.useState)(null),[v,N]=(0,l.useState)(!0),w=u(),D=b(),O=g(),M=t.monthlyGoal,R=(()=>{let t=new Date,a=t.getFullYear(),s=t.getMonth(),n=new Date(a,s+1,0).getDate(),r=0;for(let t=1;t<=n;t++){let n=e["".concat(a,"-").concat(String(s+1).padStart(2,"0"),"-").concat(String(t).padStart(2,"0"))];n&&(r+=n.duration)}return Math.round(r/60*10)/10})(),Z=e[m()],T={duration:(null==Z?void 0:Z.duration)||0,intensity:(null==Z?void 0:Z.intensity)||"未训练",calories:(null==Z?void 0:Z.calories)||0};(0,l.useEffect)(()=>{N(!1)},[]),(0,l.useEffect)(()=>{let e=O/M*100,t=new Date().getMonth(),s=new Date().getFullYear(),n=new Date(a.lastCheckInDate||new Date);if(n.getMonth()!==t||n.getFullYear()!==s){x({lastMilestone:0});return}let r=0;for(let t of[25,50,75,100])e>=t&&(r=t);r>a.lastMilestone&&r>0&&!p&&O>=Math.ceil(r/100*M)&&(y(r),x({lastMilestone:r}),setTimeout(()=>{y(null)},3e3))},[O,M,a.lastMilestone,a.lastCheckInDate,x,p]);let Y=Object.values(e).sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime()).slice(0,2).map(e=>({title:"".concat(e.intensity,"训练"),date:new Date(e.date).toLocaleDateString("zh-CN"),duration:"".concat(e.duration,"分钟")}));return v?(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600",children:"加载中..."})]})}):(0,s.jsxs)("div",{className:"jsx-cb3c6a900f3fe832 min-h-screen bg-gradient-to-br from-blue-50 to-green-50 p-4 pb-20",children:[(0,s.jsxs)("div",{className:"jsx-cb3c6a900f3fe832 max-w-md mx-auto space-y-6",children:[p&&(0,s.jsx)("div",{className:"jsx-cb3c6a900f3fe832 fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 animate-in fade-in duration-300",children:(0,s.jsxs)("div",{className:"jsx-cb3c6a900f3fe832 bg-white rounded-2xl p-8 mx-4 text-center shadow-2xl animate-in zoom-in duration-500",children:[(0,s.jsx)("div",{className:"jsx-cb3c6a900f3fe832 text-6xl mb-4 animate-bounce",children:"\uD83C\uDF89"}),(0,s.jsx)("div",{className:"jsx-cb3c6a900f3fe832 text-xl font-bold text-gray-900 mb-2",children:"里程碑达成！"}),(0,s.jsx)("div",{className:"jsx-cb3c6a900f3fe832 text-lg text-blue-600 mb-4",children:(e=>{switch(e){case 25:return"\uD83C\uDF89 太棒了！完成了四分之一的目标！";case 50:return"\uD83D\uDD25 amazing！已经完成一半啦！";case 75:return"\uD83D\uDCAA incredible！只差最后一步了！";case 100:return"\uD83C\uDFC6 恭喜！本月目标完美达成！";default:return"\uD83C\uDF8A 里程碑达成！"}})(p)}),(0,s.jsxs)("div",{className:"jsx-cb3c6a900f3fe832 text-4xl font-bold text-green-600 mb-2",children:[p,"%"]}),(0,s.jsx)("div",{className:"jsx-cb3c6a900f3fe832 text-sm text-gray-500",children:"继续保持，你做得很棒！"}),(0,s.jsxs)("div",{className:"jsx-cb3c6a900f3fe832 absolute top-0 left-0 w-full h-full pointer-events-none overflow-hidden rounded-2xl",children:[(0,s.jsx)("div",{className:"jsx-cb3c6a900f3fe832 confetti-piece confetti-1"}),(0,s.jsx)("div",{className:"jsx-cb3c6a900f3fe832 confetti-piece confetti-2"}),(0,s.jsx)("div",{className:"jsx-cb3c6a900f3fe832 confetti-piece confetti-3"}),(0,s.jsx)("div",{className:"jsx-cb3c6a900f3fe832 confetti-piece confetti-4"}),(0,s.jsx)("div",{className:"jsx-cb3c6a900f3fe832 confetti-piece confetti-5"}),(0,s.jsx)("div",{className:"jsx-cb3c6a900f3fe832 confetti-piece confetti-6"})]})]})}),(0,s.jsxs)("div",{className:"jsx-cb3c6a900f3fe832 text-center py-6",children:[(0,s.jsx)("h1",{className:"jsx-cb3c6a900f3fe832 text-2xl font-bold text-gray-900 mb-2",children:"羽毛球训练记录"}),(0,s.jsx)("p",{className:"jsx-cb3c6a900f3fe832 text-gray-600",children:"坚持训练，成就更好的自己"}),(0,s.jsxs)("div",{className:"jsx-cb3c6a900f3fe832 mt-2 flex items-center justify-center gap-2",children:[(0,s.jsx)("div",{className:"jsx-cb3c6a900f3fe832 w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,s.jsx)("span",{className:"jsx-cb3c6a900f3fe832 text-xs text-gray-500",children:"数据已同步"})]})]}),(0,s.jsxs)(o.Zb,{className:"bg-white shadow-lg",children:[(0,s.jsxs)(o.Ol,{className:"text-center pb-4",children:[(0,s.jsxs)(o.ll,{className:"flex items-center justify-center gap-2",children:[(0,s.jsx)(c.Z,{className:"h-5 w-5 text-blue-600"}),"今日训练"]}),(0,s.jsx)(o.SZ,{children:new Date().toLocaleDateString("zh-CN",{month:"long",day:"numeric",weekday:"long"})})]}),(0,s.jsx)(o.aY,{className:"space-y-4",children:w?(0,s.jsxs)("div",{className:"jsx-cb3c6a900f3fe832 text-center space-y-2",children:[(0,s.jsx)(f.C,{variant:"secondary",className:"bg-green-100 text-green-800 px-4 py-2",children:"✅ 今日已打卡"}),(0,s.jsxs)("div",{className:"jsx-cb3c6a900f3fe832 grid grid-cols-3 gap-4 mt-4",children:[(0,s.jsxs)("div",{className:"jsx-cb3c6a900f3fe832 text-center",children:[(0,s.jsx)("div",{className:"jsx-cb3c6a900f3fe832 text-2xl font-bold text-blue-600",children:T.duration}),(0,s.jsx)("div",{className:"jsx-cb3c6a900f3fe832 text-xs text-gray-500",children:"分钟"})]}),(0,s.jsxs)("div",{className:"jsx-cb3c6a900f3fe832 text-center",children:[(0,s.jsx)("div",{className:"jsx-cb3c6a900f3fe832 text-sm font-semibold text-orange-600",children:T.intensity}),(0,s.jsx)("div",{className:"jsx-cb3c6a900f3fe832 text-xs text-gray-500",children:"强度"})]}),(0,s.jsxs)("div",{className:"jsx-cb3c6a900f3fe832 text-center",children:[(0,s.jsx)("div",{className:"jsx-cb3c6a900f3fe832 text-2xl font-bold text-red-600",children:T.calories}),(0,s.jsx)("div",{className:"jsx-cb3c6a900f3fe832 text-xs text-gray-500",children:"卡路里"})]})]})]}):(0,s.jsxs)(d.z,{onClick:()=>j(!0),className:"w-full h-16 text-lg bg-gradient-to-r from-blue-600 to-green-600 hover:from-blue-700 hover:to-green-700",children:[(0,s.jsx)(i.Z,{className:"mr-2 h-6 w-6"}),"开始训练打卡"]})})]}),(0,s.jsxs)(o.Zb,{children:[(0,s.jsxs)(o.Ol,{className:"pb-3",children:[(0,s.jsx)(o.ll,{className:"text-lg",children:"本月进度"}),(0,s.jsxs)(o.SZ,{children:["已训练 ",O," 天 / 目标 ",M," 天 • 连续 ",D," 天"]})]}),(0,s.jsxs)(o.aY,{children:[(0,s.jsxs)("div",{className:"jsx-cb3c6a900f3fe832 mb-6",children:[(0,s.jsxs)("div",{className:"jsx-cb3c6a900f3fe832 flex justify-between items-center mb-2",children:[(0,s.jsx)("span",{className:"jsx-cb3c6a900f3fe832 text-sm text-gray-600",children:"完成进度"}),(0,s.jsxs)("span",{className:"jsx-cb3c6a900f3fe832 text-sm font-medium text-gray-900",children:[Math.round(O/M*100),"%"]})]}),(0,s.jsxs)("div",{className:"jsx-cb3c6a900f3fe832 relative",children:[(0,s.jsx)(S.E,{value:O/M*100,className:"h-3 bg-gray-200"}),(0,s.jsxs)("div",{className:"jsx-cb3c6a900f3fe832 absolute top-0 left-0 w-full h-3 pointer-events-none",children:[(0,s.jsx)("div",{style:{left:"25%"},className:"jsx-cb3c6a900f3fe832 absolute top-1/2 transform -translate-y-1/2 -translate-x-1/2",children:(0,s.jsx)("div",{className:"jsx-cb3c6a900f3fe832 "+"w-2 h-2 rounded-full border-2 border-white transition-all duration-300 ".concat(O/M*100>=25?"bg-blue-500 animate-pulse":"bg-gray-300")})}),(0,s.jsx)("div",{style:{left:"50%"},className:"jsx-cb3c6a900f3fe832 absolute top-1/2 transform -translate-y-1/2 -translate-x-1/2",children:(0,s.jsx)("div",{className:"jsx-cb3c6a900f3fe832 "+"w-2 h-2 rounded-full border-2 border-white transition-all duration-300 ".concat(O/M*100>=50?"bg-blue-500 animate-pulse":"bg-gray-300")})}),(0,s.jsx)("div",{style:{left:"75%"},className:"jsx-cb3c6a900f3fe832 absolute top-1/2 transform -translate-y-1/2 -translate-x-1/2",children:(0,s.jsx)("div",{className:"jsx-cb3c6a900f3fe832 "+"w-2 h-2 rounded-full border-2 border-white transition-all duration-300 ".concat(O/M*100>=75?"bg-blue-500 animate-pulse":"bg-gray-300")})})]})]}),(0,s.jsx)("div",{className:"jsx-cb3c6a900f3fe832 relative mt-2",children:(0,s.jsxs)("div",{className:"jsx-cb3c6a900f3fe832 flex justify-between text-xs text-gray-500",children:[(0,s.jsx)("span",{className:"jsx-cb3c6a900f3fe832",children:"0天"}),(0,s.jsxs)("span",{className:"jsx-cb3c6a900f3fe832 absolute left-1/4 transform -translate-x-1/2 text-center",children:[(0,s.jsx)("div",{className:"jsx-cb3c6a900f3fe832 "+"transition-all duration-300 ".concat(O/M*100>=25?"text-blue-600 font-medium animate-bounce":""),children:"25%"}),(0,s.jsxs)("div",{className:"jsx-cb3c6a900f3fe832 text-gray-400 text-xs",children:[Math.ceil(.25*M),"天"]})]}),(0,s.jsxs)("span",{className:"jsx-cb3c6a900f3fe832 absolute left-1/2 transform -translate-x-1/2 text-center",children:[(0,s.jsx)("div",{className:"jsx-cb3c6a900f3fe832 "+"transition-all duration-300 ".concat(O/M*100>=50?"text-blue-600 font-medium animate-bounce":""),children:"50%"}),(0,s.jsxs)("div",{className:"jsx-cb3c6a900f3fe832 text-gray-400 text-xs",children:[Math.ceil(.5*M),"天"]})]}),(0,s.jsxs)("span",{className:"jsx-cb3c6a900f3fe832 absolute left-3/4 transform -translate-x-1/2 text-center",children:[(0,s.jsx)("div",{className:"jsx-cb3c6a900f3fe832 "+"transition-all duration-300 ".concat(O/M*100>=75?"text-blue-600 font-medium animate-bounce":""),children:"75%"}),(0,s.jsxs)("div",{className:"jsx-cb3c6a900f3fe832 text-gray-400 text-xs",children:[Math.ceil(.75*M),"天"]})]}),(0,s.jsxs)("span",{className:"jsx-cb3c6a900f3fe832",children:[M,"天"]})]})})]}),(0,s.jsxs)("div",{className:"jsx-cb3c6a900f3fe832 grid grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"jsx-cb3c6a900f3fe832 text-center",children:[(0,s.jsx)("div",{className:"jsx-cb3c6a900f3fe832 text-3xl font-bold text-blue-600",children:O}),(0,s.jsx)("div",{className:"jsx-cb3c6a900f3fe832 text-sm text-gray-500",children:"训练天数"})]}),(0,s.jsxs)("div",{className:"jsx-cb3c6a900f3fe832 text-center",children:[(0,s.jsxs)("div",{className:"jsx-cb3c6a900f3fe832 text-3xl font-bold text-green-600",children:[R,"h"]}),(0,s.jsx)("div",{className:"jsx-cb3c6a900f3fe832 text-sm text-gray-500",children:"本月时长"})]}),(0,s.jsxs)("div",{className:"jsx-cb3c6a900f3fe832 text-center",children:[(0,s.jsx)("div",{className:"jsx-cb3c6a900f3fe832 text-3xl font-bold text-orange-600",children:D}),(0,s.jsx)("div",{className:"jsx-cb3c6a900f3fe832 text-sm text-gray-500",children:"连续天数"})]})]})]})]}),(0,s.jsxs)(o.Zb,{children:[(0,s.jsx)(o.Ol,{className:"pb-3",children:(0,s.jsx)(o.ll,{className:"text-lg",children:"最近记录"})}),(0,s.jsx)(o.aY,{children:(0,s.jsx)("div",{className:"jsx-cb3c6a900f3fe832 space-y-4",children:Y.length>0?Y.map((e,t)=>(0,s.jsxs)("div",{className:"jsx-cb3c6a900f3fe832 flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,s.jsxs)("div",{className:"jsx-cb3c6a900f3fe832",children:[(0,s.jsx)("div",{className:"jsx-cb3c6a900f3fe832 font-medium text-gray-900",children:e.title}),(0,s.jsx)("div",{className:"jsx-cb3c6a900f3fe832 text-sm text-gray-500",children:e.date})]}),(0,s.jsx)("div",{className:"jsx-cb3c6a900f3fe832 text-right",children:(0,s.jsx)("div",{className:"jsx-cb3c6a900f3fe832 font-semibold text-gray-900",children:e.duration})})]},t)):(0,s.jsxs)("div",{className:"jsx-cb3c6a900f3fe832 text-center py-4 text-gray-500",children:[(0,s.jsx)("p",{className:"jsx-cb3c6a900f3fe832",children:"还没有训练记录"}),(0,s.jsx)("p",{className:"jsx-cb3c6a900f3fe832 text-sm",children:"开始你的第一次训练吧！"})]})})})]}),(0,s.jsx)(k,{open:h,onOpenChange:j,onCheckIn:(e,t)=>{n(m(),e,t),j(!1)}})]}),(0,s.jsx)(C.W,{}),(0,s.jsx)(r(),{id:"cb3c6a900f3fe832",children:"@-webkit-keyframes confetti-fall{0%{-webkit-transform:translatey(-100vh)rotate(0deg);transform:translatey(-100vh)rotate(0deg);opacity:1}100%{-webkit-transform:translatey(100vh)rotate(720deg);transform:translatey(100vh)rotate(720deg);opacity:0}}@-moz-keyframes confetti-fall{0%{-moz-transform:translatey(-100vh)rotate(0deg);transform:translatey(-100vh)rotate(0deg);opacity:1}100%{-moz-transform:translatey(100vh)rotate(720deg);transform:translatey(100vh)rotate(720deg);opacity:0}}@-o-keyframes confetti-fall{0%{-o-transform:translatey(-100vh)rotate(0deg);transform:translatey(-100vh)rotate(0deg);opacity:1}100%{-o-transform:translatey(100vh)rotate(720deg);transform:translatey(100vh)rotate(720deg);opacity:0}}@keyframes confetti-fall{0%{-webkit-transform:translatey(-100vh)rotate(0deg);-moz-transform:translatey(-100vh)rotate(0deg);-o-transform:translatey(-100vh)rotate(0deg);transform:translatey(-100vh)rotate(0deg);opacity:1}100%{-webkit-transform:translatey(100vh)rotate(720deg);-moz-transform:translatey(100vh)rotate(720deg);-o-transform:translatey(100vh)rotate(720deg);transform:translatey(100vh)rotate(720deg);opacity:0}}.confetti-piece.jsx-cb3c6a900f3fe832{position:absolute;width:10px;height:10px;background:-webkit-linear-gradient(45deg,#ff6b6b,#4ecdc4,#45b7d1,#96ceb4,#feca57,#ff9ff3);background:-moz-linear-gradient(45deg,#ff6b6b,#4ecdc4,#45b7d1,#96ceb4,#feca57,#ff9ff3);background:-o-linear-gradient(45deg,#ff6b6b,#4ecdc4,#45b7d1,#96ceb4,#feca57,#ff9ff3);background:linear-gradient(45deg,#ff6b6b,#4ecdc4,#45b7d1,#96ceb4,#feca57,#ff9ff3);-webkit-animation:confetti-fall 3s linear infinite;-moz-animation:confetti-fall 3s linear infinite;-o-animation:confetti-fall 3s linear infinite;animation:confetti-fall 3s linear infinite}.confetti-1.jsx-cb3c6a900f3fe832{left:10%;-webkit-animation-delay:0s;-moz-animation-delay:0s;-o-animation-delay:0s;animation-delay:0s;background-color:#ff6b6b}.confetti-2.jsx-cb3c6a900f3fe832{left:20%;-webkit-animation-delay:.5s;-moz-animation-delay:.5s;-o-animation-delay:.5s;animation-delay:.5s;background-color:#4ecdc4}.confetti-3.jsx-cb3c6a900f3fe832{left:30%;-webkit-animation-delay:1s;-moz-animation-delay:1s;-o-animation-delay:1s;animation-delay:1s;background-color:#45b7d1}.confetti-4.jsx-cb3c6a900f3fe832{left:70%;-webkit-animation-delay:.3s;-moz-animation-delay:.3s;-o-animation-delay:.3s;animation-delay:.3s;background-color:#96ceb4}.confetti-5.jsx-cb3c6a900f3fe832{left:80%;-webkit-animation-delay:.8s;-moz-animation-delay:.8s;-o-animation-delay:.8s;animation-delay:.8s;background-color:#feca57}.confetti-6.jsx-cb3c6a900f3fe832{left:90%;-webkit-animation-delay:1.2s;-moz-animation-delay:1.2s;-o-animation-delay:1.2s;animation-delay:1.2s;background-color:#ff9ff3}"})]})}},8498:function(e,t,a){"use strict";a.d(t,{W:function(){return d}});var s=a(5434),n=a(7908),r=a(8406),l=a(7101),c=a(5811),i=a(213),o=a(7143);function d(){let e=(0,r.usePathname)(),t=[{href:"/",label:"首页",icon:l.Z},{href:"/calendar",label:"日历",icon:c.Z},{href:"/stats",label:"统计",icon:i.Z},{href:"/profile",label:"我的",icon:o.Z}];return(0,s.jsx)("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 px-4 py-2 z-40",children:(0,s.jsx)("div",{className:"max-w-md mx-auto",children:(0,s.jsx)("div",{className:"grid grid-cols-4 gap-1",children:t.map(t=>{let a=t.icon,r=e===t.href;return(0,s.jsxs)(n.default,{href:t.href,className:"flex flex-col items-center justify-center py-2 px-1 rounded-lg transition-colors ".concat(r?"text-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:[(0,s.jsx)(a,{className:"h-5 w-5 mb-1 ".concat(r?"text-blue-600":"text-gray-600")}),(0,s.jsx)("span",{className:"text-xs ".concat(r?"text-blue-600 font-medium":"text-gray-600"),children:t.label})]},t.href)})})})})}},116:function(e,t,a){"use strict";a.d(t,{C:function(){return c}});var s=a(5434);a(3936);var n=a(6638),r=a(2533);let l=(0,n.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function c(e){let{className:t,variant:a,...n}=e;return(0,s.jsx)("div",{className:(0,r.cn)(l({variant:a}),t),...n})}},5258:function(e,t,a){"use strict";a.d(t,{z:function(){return o}});var s=a(5434),n=a(3936),r=a(8370),l=a(6638),c=a(2533);let i=(0,l.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=n.forwardRef((e,t)=>{let{className:a,variant:n,size:l,asChild:o=!1,...d}=e,f=o?r.g7:"button";return(0,s.jsx)(f,{className:(0,c.cn)(i({variant:n,size:l,className:a})),ref:t,...d})});o.displayName="Button"},148:function(e,t,a){"use strict";a.d(t,{Ol:function(){return c},SZ:function(){return o},Zb:function(){return l},aY:function(){return d},ll:function(){return i}});var s=a(5434),n=a(3936),r=a(2533);let l=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...n})});l.displayName="Card";let c=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",a),...n})});c.displayName="CardHeader";let i=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",a),...n})});i.displayName="CardTitle";let o=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,r.cn)("text-sm text-muted-foreground",a),...n})});o.displayName="CardDescription";let d=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,r.cn)("p-6 pt-0",a),...n})});d.displayName="CardContent",n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,r.cn)("flex items-center p-6 pt-0",a),...n})}).displayName="CardFooter"},3435:function(e,t,a){"use strict";a.d(t,{E:function(){return c}});var s=a(5434),n=a(3936),r=a(279),l=a(2533);let c=n.forwardRef((e,t)=>{let{className:a,value:n,...c}=e;return(0,s.jsx)(r.fC,{ref:t,className:(0,l.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",a),...c,children:(0,s.jsx)(r.z$,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(n||0),"%)")}})})});c.displayName=r.fC.displayName},8419:function(e,t,a){"use strict";a.d(t,{O:function(){return i}});var s=a(3936);function n(e,t){let a=()=>{try{let a=window.localStorage.getItem(e);return a?JSON.parse(a):t}catch(a){return console.warn('Error reading localStorage key "'.concat(e,'":'),a),t}},[n,r]=(0,s.useState)(t);return(0,s.useEffect)(()=>{r(a())},[]),[n,t=>{try{let a=t instanceof Function?t(n):t;r(a),window.localStorage.setItem(e,JSON.stringify(a))}catch(t){console.warn('Error setting localStorage key "'.concat(e,'":'),t)}}]}let r={"2025-06-01":{duration:60,intensity:"中等",calories:300,date:"2025-06-01",timestamp:Date.now()-19008e5},"2025-06-09":{duration:90,intensity:"高强度",calories:450,date:"2025-06-09",timestamp:Date.now()-1728e6},"2025-06-10":{duration:45,intensity:"轻松",calories:225,date:"2025-06-10",timestamp:Date.now()-15552e5},"2025-06-15":{duration:75,intensity:"高强度",calories:375,date:"2025-06-15",timestamp:Date.now()-1296e6},"2025-06-16":{duration:60,intensity:"中等",calories:300,date:"2025-06-16",timestamp:Date.now()-11232e5},"2025-06-17":{duration:90,intensity:"高强度",calories:450,date:"2025-06-17",timestamp:Date.now()-9504e5},"2025-06-18":{duration:45,intensity:"轻松",calories:225,date:"2025-06-18",timestamp:Date.now()-6912e5},"2025-06-19":{duration:80,intensity:"中等",calories:400,date:"2025-06-19",timestamp:Date.now()-5184e5},"2025-06-20":{duration:95,intensity:"高强度",calories:475,date:"22025-06-20",timestamp:Date.now()-3456e5},"2025-06-21":{duration:60,intensity:"中等",calories:300,date:"2025-06-21",timestamp:Date.now()-864e5},"2025-06-22":{duration:90,intensity:"高强度",calories:450,date:"2025-06-22",timestamp:Date.now()}},l={monthlyGoal:20,userName:"羽毛球爱好者",totalTrainingDays:45,totalTrainingHours:156,joinDate:new Date().toISOString().split("T")[0]},c={lastMilestone:0,currentStreak:7,lastCheckInDate:""};function i(){let[e,t]=n("badminton-training-data",r),[a,s]=n("badminton-user-settings",l),[i,o]=n("badminton-app-state",c),d=()=>{let e=new Date;return"".concat(e.getFullYear(),"-").concat(String(e.getMonth()+1).padStart(2,"0"),"-").concat(String(e.getDate()).padStart(2,"0"))},f=()=>!!e[d()];return{trainingData:e,userSettings:a,appState:i,addTrainingRecord:(a,n,r)=>{let l={duration:n,intensity:r,calories:Math.round(n*("高强度"===r?6:"中等"===r?5:4)),date:a,timestamp:Date.now()};return t(e=>({...e,[a]:l})),s(t=>({...t,totalTrainingDays:Object.keys({...e,[a]:l}).length,totalTrainingHours:Math.round(Object.values({...e,[a]:l}).reduce((e,t)=>e+t.duration,0)/60*10)/10})),o(e=>({...e,lastCheckInDate:a})),l},deleteTrainingRecord:a=>{t(e=>{let t={...e};return delete t[a],t});let n={...e};delete n[a],s(e=>({...e,totalTrainingDays:Object.keys(n).length,totalTrainingHours:Math.round(Object.values(n).reduce((e,t)=>e+t.duration,0)/60*10)/10}))},updateUserSettings:e=>{s(t=>({...t,...e}))},updateAppState:e=>{o(t=>({...t,...e}))},getTodayDateString:d,isTodayCheckedIn:f,calculateCurrentStreak:()=>{if(0===Object.keys(e).sort((e,t)=>new Date(t).getTime()-new Date(e).getTime()).length)return 0;let t=0,a=new Date(new Date);for(f()||a.setDate(a.getDate()-1);;)if(e["".concat(a.getFullYear(),"-").concat(String(a.getMonth()+1).padStart(2,"0"),"-").concat(String(a.getDate()).padStart(2,"0"))])t++,a.setDate(a.getDate()-1);else break;return t},getMonthlyProgress:()=>{let t=new Date,a=t.getFullYear(),s=t.getMonth(),n=0;for(let t=1;t<=new Date(a,s+1,0).getDate();t++)e["".concat(a,"-").concat(String(s+1).padStart(2,"0"),"-").concat(String(t).padStart(2,"0"))]&&n++;return n},exportData:()=>{let t=new Blob([JSON.stringify({trainingData:e,userSettings:a,appState:i,exportDate:new Date().toISOString(),version:"1.0"},null,2)],{type:"application/json"}),s=URL.createObjectURL(t),n=document.createElement("a");n.href=s,n.download="badminton-training-data-".concat(new Date().toISOString().split("T")[0],".json"),document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(s)},importData:e=>new Promise((a,n)=>{let r=new FileReader;r.onload=e=>{try{var r;let n=JSON.parse(null===(r=e.target)||void 0===r?void 0:r.result);n.trainingData&&t(n.trainingData),n.userSettings&&s(n.userSettings),n.appState&&o(n.appState),a(!0)}catch(e){console.error("导入数据失败:",e),n(e)}},r.onerror=()=>{n(Error("文件读取失败"))},r.readAsText(e)}),clearAllData:()=>{t({}),s(l),o(c)}}}},2533:function(e,t,a){"use strict";a.d(t,{cn:function(){return r}});var s=a(91),n=a(9827);function r(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,n.m6)((0,s.W)(t))}}},function(e){e.O(0,[681,603,311,651,480,744],function(){return e(e.s=7913)}),_N_E=e.O()}]);