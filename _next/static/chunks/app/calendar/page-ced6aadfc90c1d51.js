(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[329],{7614:function(e,t,a){Promise.resolve().then(a.bind(a,2657))},2657:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return h}});var n=a(5434),r=a(3936),s=a(623);let i=(0,s.Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),o=(0,s.Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var l=a(148),c=a(5258),d=a(116);let u=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],g=["日","一","二","三","四","五","六"];function m(e){let{trainingData:t}=e,[a,s]=(0,r.useState)(new Date),[m,f]=(0,r.useState)(null),[x,h]=(0,r.useState)([]),[p,y]=(0,r.useState)(!1),b=a.getFullYear(),v=a.getMonth(),j=new Date(b,v,1),D=new Date(b,v+1,0),w=j.getDay(),N=D.getDate(),S=e=>"".concat(b,"-").concat(String(v+1).padStart(2,"0"),"-").concat(String(e).padStart(2,"0")),k=e=>{switch(e){case"高强度":return"bg-red-500";case"中等":return"bg-yellow-500";case"轻松":return"bg-green-500";default:return"bg-gray-300"}},C=e=>{switch(e){case"高强度":return"bg-red-100 border-red-300";case"中等":return"bg-yellow-100 border-yellow-300";case"轻松":return"bg-green-100 border-green-300";default:return"bg-gray-100 border-gray-300"}};(e=>{let t=[];if(0===e.totalDays)return t.push({type:"info",title:"开始你的训练之旅",description:"本月还没有训练记录，建议制定一个合理的训练计划。",suggestions:["每周安排3-4次训练","从轻松强度开始，逐步适应","每次训练45-60分钟为宜","保持规律的训练节奏"]});let a=e.lightDays/e.totalDays*100,n=e.moderateDays/e.totalDays*100,r=e.intenseDays/e.totalDays*100;e.totalDays<8?t.push({type:"warning",title:"训练频率偏低",description:"本月训练天数较少，建议增加训练频率以获得更好效果。",suggestions:["目标每周训练3-4次","可以增加一些轻松的恢复性训练","保持训练的连续性很重要","逐步增加训练量，避免突然加大强度"]}):e.totalDays>20&&t.push({type:"warning",title:"注意训练恢复",description:"训练频率很高，要注意合理安排休息和恢复。",suggestions:["确保每周至少有1-2天完全休息","增加轻松训练的比例","注意身体信号，避免过度训练","保证充足的睡眠和营养"]}),a<50&&t.push({type:"warning",title:"轻松训练不足",description:"轻松训练比例偏低，可能影响恢复和基础耐力建设。",suggestions:["增加轻松强度的训练比例至60-70%","轻松训练有助于恢复和基础能力提升","可以进行技术练习和基础体能训练","轻松训练同样重要，不要忽视"]}),r>30?t.push({type:"warning",title:"高强度训练过多",description:"高强度训练比例过高，可能导致疲劳累积和受伤风险。",suggestions:["减少高强度训练至总量的15-20%","高强度训练后要安排充分恢复","增加轻松和中等强度训练的比例","质量比数量更重要"]}):r<5&&e.totalDays>10&&t.push({type:"info",title:"可以适当增加挑战",description:"高强度训练比例较低，可以适当增加一些挑战性训练。",suggestions:["每周安排1-2次高强度训练","高强度训练有助于提升竞技水平","确保在身体状态良好时进行","循序渐进，不要急于求成"]});let s=e.totalDuration/e.totalDays;return s<45?t.push({type:"info",title:"可以适当延长训练时间",description:"平均训练时长较短，可以考虑适当延长以获得更好效果。",suggestions:["建议每次训练45-90分钟","包含热身、主要训练和放松环节","根据训练强度调整时长","质量比时长更重要"]}):s>120&&t.push({type:"warning",title:"训练时长较长",description:"平均训练时长较长，注意避免过度疲劳。",suggestions:["单次训练不宜超过2小时","长时间训练要注意补充水分","可以分解为多个短时间训练","关注训练质量而非时长"]}),a>=50&&a<=75&&n>=15&&n<=35&&r>=10&&r<=25&&e.totalDays>=8&&e.totalDays<=20&&t.push({type:"success",title:"训练安排很合理！",description:"你的训练强度分布和频率都很科学，继续保持！",suggestions:["当前的训练安排很棒，继续坚持","可以根据身体状态微调训练强度","保持训练的多样性和趣味性","定期评估和调整训练计划"]})})((()=>{let e={totalDays:0,totalDuration:0,totalCalories:0,lightDays:0,moderateDays:0,intenseDays:0,lightDuration:0,moderateDuration:0,intenseDuration:0};for(let a=1;a<=N;a++){let n=t[S(a)];if(n)switch(e.totalDays++,e.totalDuration+=n.duration,e.totalCalories+=n.calories,n.intensity){case"轻松":e.lightDays++,e.lightDuration+=n.duration;break;case"中等":e.moderateDays++,e.moderateDuration+=n.duration;break;case"高强度":e.intenseDays++,e.intenseDuration+=n.duration}}return e})());let O=m?t[m]:null;return(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)(l.Zb,{children:[(0,n.jsx)(l.Ol,{children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)(c.z,{variant:"ghost",size:"sm",onClick:()=>{s(new Date(b,v-1,1))},children:(0,n.jsx)(i,{className:"h-4 w-4"})}),(0,n.jsxs)(l.ll,{className:"text-lg",children:[b,"年 ",u[v]]}),(0,n.jsx)(c.z,{variant:"ghost",size:"sm",onClick:()=>{s(new Date(b,v+1,1))},children:(0,n.jsx)(o,{className:"h-4 w-4"})})]})}),(0,n.jsxs)(l.aY,{children:[(0,n.jsx)("div",{className:"grid grid-cols-7 gap-1 mb-2",children:g.map(e=>(0,n.jsx)("div",{className:"h-8 flex items-center justify-center text-sm font-medium text-gray-500",children:e},e))}),(0,n.jsx)("div",{className:"grid grid-cols-7 gap-1",children:(()=>{let e=[];for(let t=0;t<w;t++)e.push((0,n.jsx)("div",{className:"h-12"},"empty-".concat(t)));for(let a=1;a<=N;a++){let r=S(a),s=t[r],i=new Date().toDateString()===new Date(b,v,a).toDateString();e.push((0,n.jsxs)("div",{className:"h-12 flex flex-col items-center justify-center cursor-pointer rounded-lg transition-all duration-200 ".concat(i?"bg-blue-100 border-2 border-blue-500":s?"".concat(C(s.intensity)," border-2"):"hover:bg-gray-100"),onClick:()=>f(s?r:null),children:[(0,n.jsx)("span",{className:"text-sm ".concat(i?"font-bold text-blue-600":s?"font-medium":""),children:a}),s&&(0,n.jsx)("div",{className:"w-2 h-2 rounded-full mt-1 ".concat(k(s.intensity))})]},a))}return e})()})]})]}),m&&O&&(0,n.jsxs)(l.Zb,{children:[(0,n.jsx)(l.Ol,{children:(0,n.jsx)(l.ll,{className:"text-lg",children:"训练详情"})}),(0,n.jsx)(l.aY,{children:(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)("span",{className:"text-gray-600",children:"训练日期"}),(0,n.jsx)("span",{className:"font-semibold",children:new Date(O.date).toLocaleDateString("zh-CN")})]}),(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)("span",{className:"text-gray-600",children:"训练时长"}),(0,n.jsxs)("span",{className:"font-semibold",children:[O.duration," 分钟"]})]}),(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)("span",{className:"text-gray-600",children:"训练强度"}),(0,n.jsx)(d.C,{variant:"secondary",className:"".concat(k(O.intensity)," text-white"),children:O.intensity})]}),(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)("span",{className:"text-gray-600",children:"消耗卡路里"}),(0,n.jsxs)("span",{className:"font-semibold",children:[O.calories," 卡"]})]})]})})]}),(0,n.jsx)(l.Zb,{children:(0,n.jsx)(l.aY,{className:"pt-6",children:(0,n.jsxs)("div",{className:"flex justify-center space-x-6 text-sm",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)("div",{className:"w-3 h-3 rounded-full bg-green-500"}),(0,n.jsx)("span",{children:"轻松"})]}),(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),(0,n.jsx)("span",{children:"中等"})]}),(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)("div",{className:"w-3 h-3 rounded-full bg-red-500"}),(0,n.jsx)("span",{children:"高强度"})]})]})})})]})}var f=a(8498),x=a(8419);function h(){let{trainingData:e}=(0,x.O)();return(0,n.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 p-4 pb-20",children:[(0,n.jsxs)("div",{className:"max-w-md mx-auto space-y-6",children:[(0,n.jsxs)("div",{className:"text-center py-6",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"训练日历"}),(0,n.jsx)("p",{className:"text-gray-600",children:"查看你的训练记录和进度"}),(0,n.jsxs)("div",{className:"mt-2 flex items-center justify-center gap-2",children:[(0,n.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,n.jsxs)("span",{className:"text-xs text-gray-500",children:["共 ",Object.keys(e).length," 条记录"]})]})]}),(0,n.jsx)(m,{trainingData:e})]}),(0,n.jsx)(f.W,{})]})}},8498:function(e,t,a){"use strict";a.d(t,{W:function(){return d}});var n=a(5434),r=a(7908),s=a(8406),i=a(7101),o=a(5811),l=a(213),c=a(7143);function d(){let e=(0,s.usePathname)(),t=[{href:"/",label:"首页",icon:i.Z},{href:"/calendar",label:"日历",icon:o.Z},{href:"/stats",label:"统计",icon:l.Z},{href:"/profile",label:"我的",icon:c.Z}];return(0,n.jsx)("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 px-4 py-2 z-40",children:(0,n.jsx)("div",{className:"max-w-md mx-auto",children:(0,n.jsx)("div",{className:"grid grid-cols-4 gap-1",children:t.map(t=>{let a=t.icon,s=e===t.href;return(0,n.jsxs)(r.default,{href:t.href,className:"flex flex-col items-center justify-center py-2 px-1 rounded-lg transition-colors ".concat(s?"text-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:[(0,n.jsx)(a,{className:"h-5 w-5 mb-1 ".concat(s?"text-blue-600":"text-gray-600")}),(0,n.jsx)("span",{className:"text-xs ".concat(s?"text-blue-600 font-medium":"text-gray-600"),children:t.label})]},t.href)})})})})}},116:function(e,t,a){"use strict";a.d(t,{C:function(){return o}});var n=a(5434);a(3936);var r=a(6638),s=a(2533);let i=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:a,...r}=e;return(0,n.jsx)("div",{className:(0,s.cn)(i({variant:a}),t),...r})}},5258:function(e,t,a){"use strict";a.d(t,{z:function(){return c}});var n=a(5434),r=a(3936),s=a(8370),i=a(6638),o=a(2533);let l=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef((e,t)=>{let{className:a,variant:r,size:i,asChild:c=!1,...d}=e,u=c?s.g7:"button";return(0,n.jsx)(u,{className:(0,o.cn)(l({variant:r,size:i,className:a})),ref:t,...d})});c.displayName="Button"},148:function(e,t,a){"use strict";a.d(t,{Ol:function(){return o},SZ:function(){return c},Zb:function(){return i},aY:function(){return d},ll:function(){return l}});var n=a(5434),r=a(3936),s=a(2533);let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});i.displayName="Card";let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",a),...r})});o.displayName="CardHeader";let l=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",a),...r})});l.displayName="CardTitle";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",a),...r})});c.displayName="CardDescription";let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",a),...r})});d.displayName="CardContent",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",a),...r})}).displayName="CardFooter"},8419:function(e,t,a){"use strict";a.d(t,{O:function(){return l}});var n=a(3936);function r(e,t){let a=()=>{try{let a=window.localStorage.getItem(e);return a?JSON.parse(a):t}catch(a){return console.warn('Error reading localStorage key "'.concat(e,'":'),a),t}},[r,s]=(0,n.useState)(t);return(0,n.useEffect)(()=>{s(a())},[]),[r,t=>{try{let a=t instanceof Function?t(r):t;s(a),window.localStorage.setItem(e,JSON.stringify(a))}catch(t){console.warn('Error setting localStorage key "'.concat(e,'":'),t)}}]}let s={"2025-06-01":{duration:60,intensity:"中等",calories:300,date:"2025-06-01",timestamp:Date.now()-19008e5},"2025-06-09":{duration:90,intensity:"高强度",calories:450,date:"2025-06-09",timestamp:Date.now()-1728e6},"2025-06-10":{duration:45,intensity:"轻松",calories:225,date:"2025-06-10",timestamp:Date.now()-15552e5},"2025-06-15":{duration:75,intensity:"高强度",calories:375,date:"2025-06-15",timestamp:Date.now()-1296e6},"2025-06-16":{duration:60,intensity:"中等",calories:300,date:"2025-06-16",timestamp:Date.now()-11232e5},"2025-06-17":{duration:90,intensity:"高强度",calories:450,date:"2025-06-17",timestamp:Date.now()-9504e5},"2025-06-18":{duration:45,intensity:"轻松",calories:225,date:"2025-06-18",timestamp:Date.now()-6912e5},"2025-06-19":{duration:80,intensity:"中等",calories:400,date:"2025-06-19",timestamp:Date.now()-5184e5},"2025-06-20":{duration:95,intensity:"高强度",calories:475,date:"22025-06-20",timestamp:Date.now()-3456e5},"2025-06-21":{duration:60,intensity:"中等",calories:300,date:"2025-06-21",timestamp:Date.now()-864e5},"2025-06-22":{duration:90,intensity:"高强度",calories:450,date:"2025-06-22",timestamp:Date.now()}},i={monthlyGoal:20,userName:"羽毛球爱好者",totalTrainingDays:45,totalTrainingHours:156,joinDate:new Date().toISOString().split("T")[0]},o={lastMilestone:0,currentStreak:7,lastCheckInDate:""};function l(){let[e,t]=r("badminton-training-data",s),[a,n]=r("badminton-user-settings",i),[l,c]=r("badminton-app-state",o),d=()=>{let e=new Date;return"".concat(e.getFullYear(),"-").concat(String(e.getMonth()+1).padStart(2,"0"),"-").concat(String(e.getDate()).padStart(2,"0"))},u=()=>!!e[d()];return{trainingData:e,userSettings:a,appState:l,addTrainingRecord:(a,r,s)=>{let i={duration:r,intensity:s,calories:Math.round(r*("高强度"===s?6:"中等"===s?5:4)),date:a,timestamp:Date.now()};return t(e=>({...e,[a]:i})),n(t=>({...t,totalTrainingDays:Object.keys({...e,[a]:i}).length,totalTrainingHours:Math.round(Object.values({...e,[a]:i}).reduce((e,t)=>e+t.duration,0)/60*10)/10})),c(e=>({...e,lastCheckInDate:a})),i},deleteTrainingRecord:a=>{t(e=>{let t={...e};return delete t[a],t});let r={...e};delete r[a],n(e=>({...e,totalTrainingDays:Object.keys(r).length,totalTrainingHours:Math.round(Object.values(r).reduce((e,t)=>e+t.duration,0)/60*10)/10}))},updateUserSettings:e=>{n(t=>({...t,...e}))},updateAppState:e=>{c(t=>({...t,...e}))},getTodayDateString:d,isTodayCheckedIn:u,calculateCurrentStreak:()=>{if(0===Object.keys(e).sort((e,t)=>new Date(t).getTime()-new Date(e).getTime()).length)return 0;let t=0,a=new Date(new Date);for(u()||a.setDate(a.getDate()-1);;)if(e["".concat(a.getFullYear(),"-").concat(String(a.getMonth()+1).padStart(2,"0"),"-").concat(String(a.getDate()).padStart(2,"0"))])t++,a.setDate(a.getDate()-1);else break;return t},getMonthlyProgress:()=>{let t=new Date,a=t.getFullYear(),n=t.getMonth(),r=0;for(let t=1;t<=new Date(a,n+1,0).getDate();t++)e["".concat(a,"-").concat(String(n+1).padStart(2,"0"),"-").concat(String(t).padStart(2,"0"))]&&r++;return r},exportData:()=>{let t=new Blob([JSON.stringify({trainingData:e,userSettings:a,appState:l,exportDate:new Date().toISOString(),version:"1.0"},null,2)],{type:"application/json"}),n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download="badminton-training-data-".concat(new Date().toISOString().split("T")[0],".json"),document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)},importData:e=>new Promise((a,r)=>{let s=new FileReader;s.onload=e=>{try{var s;let r=JSON.parse(null===(s=e.target)||void 0===s?void 0:s.result);r.trainingData&&t(r.trainingData),r.userSettings&&n(r.userSettings),r.appState&&c(r.appState),a(!0)}catch(e){console.error("导入数据失败:",e),r(e)}},s.onerror=()=>{r(Error("文件读取失败"))},s.readAsText(e)}),clearAllData:()=>{t({}),n(i),c(o)}}}},2533:function(e,t,a){"use strict";a.d(t,{cn:function(){return s}});var n=a(91),r=a(9827);function s(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.m6)((0,n.W)(t))}}},function(e){e.O(0,[681,651,480,744],function(){return e(e.s=7614)}),_N_E=e.O()}]);