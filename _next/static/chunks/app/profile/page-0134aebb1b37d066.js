(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[178],{5089:function(e,t,s){Promise.resolve().then(s.bind(s,8479))},8479:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return V}});var a=s(5434),r=s(3936),l=s(148),n=s(5258),i=s(2533);let c=r.forwardRef((e,t)=>{let{className:s,type:r,...l}=e;return(0,a.jsx)("input",{type:r,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...l})});c.displayName="Input";var d=s(7744),o=r.forwardRef((e,t)=>(0,a.jsx)(d.WV.label,{...e,ref:t,onMouseDown:t=>{var s;t.target.closest("button, input, select, textarea")||(null===(s=e.onMouseDown)||void 0===s||s.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));o.displayName="Label";let u=(0,s(6638).j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),x=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(o,{ref:t,className:(0,i.cn)(u(),s),...r})});x.displayName=o.displayName;var m=s(8498),h=s(8419),f=s(7143),v=s(5811),p=s(8041),g=s(623);let b=(0,g.Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),j=(0,g.Z)("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);var y=s(700);let N=(0,g.Z)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),w=(0,g.Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),k=(0,g.Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),C=(0,g.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var M=s(8708),Z=s(3435),D=s(116);function V(){let{userSettings:e,updateUserSettings:t,exportData:s,importData:i,clearAllData:d,trainingData:o,getMonthlyProgress:u}=(0,h.O)(),[g,V]=(0,r.useState)(!1),[_,z]=(0,r.useState)(e),[P,O]=(0,r.useState)(null),H=u(),S=(e,t)=>{O({type:e,text:t}),setTimeout(()=>O(null),3e3)},$=Math.round(H/e.monthlyGoal*100);return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 p-4 pb-20",children:[(0,a.jsxs)("div",{className:"max-w-md mx-auto space-y-6",children:[(0,a.jsxs)("div",{className:"text-center py-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"个人中心"}),(0,a.jsx)("p",{className:"text-gray-600",children:"管理你的个人信息和设置"})]}),P&&(0,a.jsx)(M.bZ,{className:"success"===P.type?"border-green-500 bg-green-50":"border-red-500 bg-red-50",children:(0,a.jsx)(M.X,{className:"success"===P.type?"text-green-800":"text-red-800",children:P.text})}),(0,a.jsxs)(l.Zb,{className:"overflow-hidden",children:[(0,a.jsx)(l.Ol,{className:"bg-gradient-to-r from-blue-600 to-green-600 text-white",children:(0,a.jsxs)(l.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(f.Z,{className:"h-5 w-5"}),"个人信息"]})}),(0,a.jsxs)(l.aY,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4 mb-6",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-600 to-green-600 rounded-full flex items-center justify-center text-white text-2xl font-bold shadow-lg",children:e.userName.charAt(0)}),(0,a.jsx)("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 bg-green-500 rounded-full border-2 border-white flex items-center justify-center",children:(0,a.jsx)("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"})})]}),(0,a.jsx)("div",{className:"flex-1",children:g?(0,a.jsx)("div",{className:"space-y-3",children:(0,a.jsxs)("div",{children:[(0,a.jsx)(x,{htmlFor:"userName",className:"text-sm font-medium text-gray-700",children:"用户名"}),(0,a.jsx)(c,{id:"userName",value:_.userName,onChange:e=>z(t=>({...t,userName:e.target.value})),placeholder:"请输入用户名",className:"mt-1"})]})}):(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xl font-bold text-gray-900",children:e.userName}),(0,a.jsxs)("div",{className:"text-sm text-gray-500 flex items-center gap-1 mt-1",children:[(0,a.jsx)(v.Z,{className:"h-3 w-3"}),"加入时间: ",new Date(e.joinDate).toLocaleDateString("zh-CN")]}),(0,a.jsx)(D.C,{variant:"secondary",className:"mt-2 bg-blue-100 text-blue-800",children:"活跃用户"})]})})]}),(0,a.jsxs)("div",{className:"mb-6 p-4 bg-gradient-to-r from-blue-50 to-green-50 rounded-lg border border-blue-200",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,a.jsx)(p.Z,{className:"h-5 w-5 text-blue-600"}),(0,a.jsx)("span",{className:"font-semibold text-gray-900",children:"本月训练目标"})]}),g?(0,a.jsx)("div",{className:"space-y-3",children:(0,a.jsxs)("div",{children:[(0,a.jsx)(x,{htmlFor:"monthlyGoal",className:"text-sm font-medium text-gray-700",children:"月度训练目标（天）"}),(0,a.jsx)(c,{id:"monthlyGoal",type:"number",min:"1",max:"31",value:_.monthlyGoal,onChange:e=>z(t=>({...t,monthlyGoal:Number.parseInt(e.target.value)||20})),className:"mt-1"})]})}):(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"进度"}),(0,a.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:[H," / ",e.monthlyGoal," 天"]})]}),(0,a.jsx)(Z.E,{value:$,className:"h-2"}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-xs text-gray-500",children:"完成率"}),(0,a.jsxs)("span",{className:"text-sm font-bold ".concat($>=100?"text-green-600":$>=75?"text-blue-600":$>=50?"text-yellow-600":"text-gray-600"),children:[$,"%"]})]}),$>=100&&(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)(D.C,{className:"bg-green-100 text-green-800 border-green-300",children:"\uD83C\uDF89 目标已达成！"})})]})]}),(0,a.jsx)("div",{className:"flex gap-3 mb-6",children:g?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.z,{onClick:()=>{t(_),V(!1),S("success","设置已保存")},className:"flex-1 bg-gradient-to-r from-blue-600 to-green-600 hover:from-blue-700 hover:to-green-700",children:"保存设置"}),(0,a.jsx)(n.z,{onClick:()=>{z(e),V(!1)},variant:"outline",className:"flex-1",children:"取消"})]}):(0,a.jsxs)(n.z,{onClick:()=>V(!0),className:"flex items-center gap-2 bg-gradient-to-r from-blue-600 to-green-600 hover:from-blue-700 hover:to-green-700",children:[(0,a.jsx)(b,{className:"h-4 w-4"}),"编辑资料"]})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"text-center p-4 bg-blue-50 rounded-lg border border-blue-200",children:[(0,a.jsx)("div",{className:"flex items-center justify-center mb-2",children:(0,a.jsx)(j,{className:"h-5 w-5 text-blue-600"})}),(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:e.totalTrainingDays}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"累计打卡"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-lg border border-green-200",children:[(0,a.jsx)("div",{className:"flex items-center justify-center mb-2",children:(0,a.jsx)(y.Z,{className:"h-5 w-5 text-green-600"})}),(0,a.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:[e.totalTrainingHours,"h"]}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"训练时长"})]})]})]})]}),(0,a.jsxs)(l.Zb,{children:[(0,a.jsx)(l.Ol,{children:(0,a.jsxs)(l.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(N,{className:"h-5 w-5"}),"数据管理"]})}),(0,a.jsxs)(l.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg border",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-700 mb-3",children:"本地存储状态"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"训练记录"}),(0,a.jsxs)(D.C,{variant:"outline",children:[Object.keys(o).length," 条"]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"存储大小"}),(0,a.jsxs)(D.C,{variant:"outline",children:[Math.round(JSON.stringify({trainingData:o,userSettings:e}).length/1024)," KB"]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"数据状态"}),(0,a.jsxs)(D.C,{className:"bg-green-100 text-green-800",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-1 animate-pulse"}),"已同步"]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)(n.z,{onClick:()=>{try{s(),S("success","数据导出成功")}catch(e){S("error","数据导出失败")}},variant:"outline",className:"w-full flex items-center gap-2 hover:bg-blue-50",children:[(0,a.jsx)(w,{className:"h-4 w-4"}),"导出数据备份"]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:"file",accept:".json",onChange:e=>{var t;let s=null===(t=e.target.files)||void 0===t?void 0:t[0];s&&i(s).then(()=>{S("success","数据导入成功"),e.target.value=""}).catch(()=>{S("error","数据导入失败，请检查文件格式"),e.target.value=""})},className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),(0,a.jsxs)(n.z,{variant:"outline",className:"w-full flex items-center gap-2 hover:bg-green-50",children:[(0,a.jsx)(k,{className:"h-4 w-4"}),"导入数据备份"]})]}),(0,a.jsxs)(n.z,{onClick:()=>{window.confirm("确定要清空所有数据吗？此操作不可恢复！")&&(d(),S("success","数据已清空"))},variant:"destructive",className:"w-full flex items-center gap-2",children:[(0,a.jsx)(C,{className:"h-4 w-4"}),"清空所有数据"]})]}),(0,a.jsx)("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-200",children:(0,a.jsxs)("div",{className:"text-xs text-blue-800 space-y-1",children:[(0,a.jsx)("p",{className:"font-medium",children:"\uD83D\uDCA1 数据安全提示："}),(0,a.jsx)("p",{children:"• 数据自动保存到浏览器本地存储"}),(0,a.jsx)("p",{children:"• 建议定期导出数据作为备份"}),(0,a.jsx)("p",{children:"• 导出的数据可在其他设备导入"}),(0,a.jsx)("p",{children:"• 清空数据后无法恢复，请谨慎操作"})]})})]})]})]}),(0,a.jsx)(m.W,{})]})}},700:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(623).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},8041:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(623).Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},9051:function(e,t,s){"use strict";s.d(t,{b:function(){return n},k:function(){return l}});var a=s(3936),r=s(5434);function l(e,t){let s=a.createContext(t),l=e=>{let{children:t,...l}=e,n=a.useMemo(()=>l,Object.values(l));return(0,r.jsx)(s.Provider,{value:n,children:t})};return l.displayName=e+"Provider",[l,function(r){let l=a.useContext(s);if(l)return l;if(void 0!==t)return t;throw Error(`\`${r}\` must be used within \`${e}\``)}]}function n(e,t=[]){let s=[],l=()=>{let t=s.map(e=>a.createContext(e));return function(s){let r=s?.[e]||t;return a.useMemo(()=>({[`__scope${e}`]:{...s,[e]:r}}),[s,r])}};return l.scopeName=e,[function(t,l){let n=a.createContext(l),i=s.length;s=[...s,l];let c=t=>{let{scope:s,children:l,...c}=t,d=s?.[e]?.[i]||n,o=a.useMemo(()=>c,Object.values(c));return(0,r.jsx)(d.Provider,{value:o,children:l})};return c.displayName=t+"Provider",[c,function(s,r){let c=r?.[e]?.[i]||n,d=a.useContext(c);if(d)return d;if(void 0!==l)return l;throw Error(`\`${s}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let s=()=>{let s=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let r=s.reduce((t,{useScope:s,scopeName:a})=>{let r=s(e)[`__scope${a}`];return{...t,...r}},{});return a.useMemo(()=>({[`__scope${t.scopeName}`]:r}),[r])}};return s.scopeName=t.scopeName,s}(l,...t)]}},7744:function(e,t,s){"use strict";s.d(t,{WV:function(){return i},jH:function(){return c}});var a=s(3936),r=s(1293),l=s(8370),n=s(5434),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let s=a.forwardRef((e,s)=>{let{asChild:a,...r}=e,i=a?l.g7:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,n.jsx)(i,{...r,ref:s})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function c(e,t){e&&r.flushSync(()=>e.dispatchEvent(t))}},279:function(e,t,s){"use strict";s.d(t,{fC:function(){return j},z$:function(){return y}});var a=s(3936),r=s(9051),l=s(7744),n=s(5434),i="Progress",[c,d]=(0,r.b)(i),[o,u]=c(i),x=a.forwardRef((e,t)=>{var s,a,r,i;let{__scopeProgress:c,value:d=null,max:u,getValueLabel:x=f,...m}=e;(u||0===u)&&!g(u)&&console.error((s="".concat(u),a="Progress","Invalid prop `max` of value `".concat(s,"` supplied to `").concat(a,"`. Only numbers greater than 0 are valid max values. Defaulting to `").concat(100,"`.")));let h=g(u)?u:100;null===d||b(d,h)||console.error((r="".concat(d),i="Progress","Invalid prop `value` of value `".concat(r,"` supplied to `").concat(i,"`. The `value` prop must be:\n  - a positive number\n  - less than the value passed to `max` (or ").concat(100," if no `max` prop is set)\n  - `null` or `undefined` if the progress is indeterminate.\n\nDefaulting to `null`.")));let j=b(d,h)?d:null,y=p(j)?x(j,h):void 0;return(0,n.jsx)(o,{scope:c,value:j,max:h,children:(0,n.jsx)(l.WV.div,{"aria-valuemax":h,"aria-valuemin":0,"aria-valuenow":p(j)?j:void 0,"aria-valuetext":y,role:"progressbar","data-state":v(j,h),"data-value":null!=j?j:void 0,"data-max":h,...m,ref:t})})});x.displayName=i;var m="ProgressIndicator",h=a.forwardRef((e,t)=>{var s;let{__scopeProgress:a,...r}=e,i=u(m,a);return(0,n.jsx)(l.WV.div,{"data-state":v(i.value,i.max),"data-value":null!==(s=i.value)&&void 0!==s?s:void 0,"data-max":i.max,...r,ref:t})});function f(e,t){return"".concat(Math.round(e/t*100),"%")}function v(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function p(e){return"number"==typeof e}function g(e){return p(e)&&!isNaN(e)&&e>0}function b(e,t){return p(e)&&!isNaN(e)&&e<=t&&e>=0}h.displayName=m;var j=x,y=h}},function(e){e.O(0,[681,382,651,480,744],function(){return e(e.s=5089)}),_N_E=e.O()}]);