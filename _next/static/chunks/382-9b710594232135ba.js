"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[382],{8498:function(e,t,r){r.d(t,{W:function(){return c}});var a=r(5434),n=r(7908),o=r(8406),i=r(7101),s=r(5811),l=r(213),d=r(7143);function c(){let e=(0,o.usePathname)(),t=[{href:"/",label:"首页",icon:i.Z},{href:"/calendar",label:"日历",icon:s.Z},{href:"/stats",label:"统计",icon:l.Z},{href:"/profile",label:"我的",icon:d.Z}];return(0,a.jsx)("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 px-4 py-2 z-40",children:(0,a.jsx)("div",{className:"max-w-md mx-auto",children:(0,a.jsx)("div",{className:"grid grid-cols-4 gap-1",children:t.map(t=>{let r=t.icon,o=e===t.href;return(0,a.jsxs)(n.default,{href:t.href,className:"flex flex-col items-center justify-center py-2 px-1 rounded-lg transition-colors ".concat(o?"text-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:[(0,a.jsx)(r,{className:"h-5 w-5 mb-1 ".concat(o?"text-blue-600":"text-gray-600")}),(0,a.jsx)("span",{className:"text-xs ".concat(o?"text-blue-600 font-medium":"text-gray-600"),children:t.label})]},t.href)})})})})}},8708:function(e,t,r){r.d(t,{X:function(){return d},bZ:function(){return l}});var a=r(5434),n=r(3936),o=r(6638),i=r(2533);let s=(0,o.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),l=n.forwardRef((e,t)=>{let{className:r,variant:n,...o}=e;return(0,a.jsx)("div",{ref:t,role:"alert",className:(0,i.cn)(s({variant:n}),r),...o})});l.displayName="Alert",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("h5",{ref:t,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",r),...n})}).displayName="AlertTitle";let d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",r),...n})});d.displayName="AlertDescription"},116:function(e,t,r){r.d(t,{C:function(){return s}});var a=r(5434);r(3936);var n=r(6638),o=r(2533);let i=(0,n.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function s(e){let{className:t,variant:r,...n}=e;return(0,a.jsx)("div",{className:(0,o.cn)(i({variant:r}),t),...n})}},5258:function(e,t,r){r.d(t,{z:function(){return d}});var a=r(5434),n=r(3936),o=r(8370),i=r(6638),s=r(2533);let l=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=n.forwardRef((e,t)=>{let{className:r,variant:n,size:i,asChild:d=!1,...c}=e,u=d?o.g7:"button";return(0,a.jsx)(u,{className:(0,s.cn)(l({variant:n,size:i,className:r})),ref:t,...c})});d.displayName="Button"},148:function(e,t,r){r.d(t,{Ol:function(){return s},SZ:function(){return d},Zb:function(){return i},aY:function(){return c},ll:function(){return l}});var a=r(5434),n=r(3936),o=r(2533);let i=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...n})});i.displayName="Card";let s=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",r),...n})});s.displayName="CardHeader";let l=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("text-2xl font-semibold leading-none tracking-tight",r),...n})});l.displayName="CardTitle";let d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",r),...n})});d.displayName="CardDescription";let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("p-6 pt-0",r),...n})});c.displayName="CardContent",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("flex items-center p-6 pt-0",r),...n})}).displayName="CardFooter"},3435:function(e,t,r){r.d(t,{E:function(){return s}});var a=r(5434),n=r(3936),o=r(279),i=r(2533);let s=n.forwardRef((e,t)=>{let{className:r,value:n,...s}=e;return(0,a.jsx)(o.fC,{ref:t,className:(0,i.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",r),...s,children:(0,a.jsx)(o.z$,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(n||0),"%)")}})})});s.displayName=o.fC.displayName},8419:function(e,t,r){r.d(t,{O:function(){return l}});var a=r(3936);function n(e,t){let r=()=>{try{let r=window.localStorage.getItem(e);return r?JSON.parse(r):t}catch(r){return console.warn('Error reading localStorage key "'.concat(e,'":'),r),t}},[n,o]=(0,a.useState)(t);return(0,a.useEffect)(()=>{o(r())},[]),[n,t=>{try{let r=t instanceof Function?t(n):t;o(r),window.localStorage.setItem(e,JSON.stringify(r))}catch(t){console.warn('Error setting localStorage key "'.concat(e,'":'),t)}}]}let o={"2025-06-01":{duration:60,intensity:"中等",calories:300,date:"2025-06-01",timestamp:Date.now()-19008e5},"2025-06-09":{duration:90,intensity:"高强度",calories:450,date:"2025-06-09",timestamp:Date.now()-1728e6},"2025-06-10":{duration:45,intensity:"轻松",calories:225,date:"2025-06-10",timestamp:Date.now()-15552e5},"2025-06-15":{duration:75,intensity:"高强度",calories:375,date:"2025-06-15",timestamp:Date.now()-1296e6},"2025-06-16":{duration:60,intensity:"中等",calories:300,date:"2025-06-16",timestamp:Date.now()-11232e5},"2025-06-17":{duration:90,intensity:"高强度",calories:450,date:"2025-06-17",timestamp:Date.now()-9504e5},"2025-06-18":{duration:45,intensity:"轻松",calories:225,date:"2025-06-18",timestamp:Date.now()-6912e5},"2025-06-19":{duration:80,intensity:"中等",calories:400,date:"2025-06-19",timestamp:Date.now()-5184e5},"2025-06-20":{duration:95,intensity:"高强度",calories:475,date:"22025-06-20",timestamp:Date.now()-3456e5},"2025-06-21":{duration:60,intensity:"中等",calories:300,date:"2025-06-21",timestamp:Date.now()-864e5},"2025-06-22":{duration:90,intensity:"高强度",calories:450,date:"2025-06-22",timestamp:Date.now()}},i={monthlyGoal:20,userName:"羽毛球爱好者",totalTrainingDays:45,totalTrainingHours:156,joinDate:new Date().toISOString().split("T")[0]},s={lastMilestone:0,currentStreak:7,lastCheckInDate:""};function l(){let[e,t]=n("badminton-training-data",o),[r,a]=n("badminton-user-settings",i),[l,d]=n("badminton-app-state",s),c=()=>{let e=new Date;return"".concat(e.getFullYear(),"-").concat(String(e.getMonth()+1).padStart(2,"0"),"-").concat(String(e.getDate()).padStart(2,"0"))},u=()=>!!e[c()];return{trainingData:e,userSettings:r,appState:l,addTrainingRecord:(r,n,o)=>{let i={duration:n,intensity:o,calories:Math.round(n*("高强度"===o?6:"中等"===o?5:4)),date:r,timestamp:Date.now()};return t(e=>({...e,[r]:i})),a(t=>({...t,totalTrainingDays:Object.keys({...e,[r]:i}).length,totalTrainingHours:Math.round(Object.values({...e,[r]:i}).reduce((e,t)=>e+t.duration,0)/60*10)/10})),d(e=>({...e,lastCheckInDate:r})),i},deleteTrainingRecord:r=>{t(e=>{let t={...e};return delete t[r],t});let n={...e};delete n[r],a(e=>({...e,totalTrainingDays:Object.keys(n).length,totalTrainingHours:Math.round(Object.values(n).reduce((e,t)=>e+t.duration,0)/60*10)/10}))},updateUserSettings:e=>{a(t=>({...t,...e}))},updateAppState:e=>{d(t=>({...t,...e}))},getTodayDateString:c,isTodayCheckedIn:u,calculateCurrentStreak:()=>{if(0===Object.keys(e).sort((e,t)=>new Date(t).getTime()-new Date(e).getTime()).length)return 0;let t=0,r=new Date(new Date);for(u()||r.setDate(r.getDate()-1);;)if(e["".concat(r.getFullYear(),"-").concat(String(r.getMonth()+1).padStart(2,"0"),"-").concat(String(r.getDate()).padStart(2,"0"))])t++,r.setDate(r.getDate()-1);else break;return t},getMonthlyProgress:()=>{let t=new Date,r=t.getFullYear(),a=t.getMonth(),n=0;for(let t=1;t<=new Date(r,a+1,0).getDate();t++)e["".concat(r,"-").concat(String(a+1).padStart(2,"0"),"-").concat(String(t).padStart(2,"0"))]&&n++;return n},exportData:()=>{let t=new Blob([JSON.stringify({trainingData:e,userSettings:r,appState:l,exportDate:new Date().toISOString(),version:"1.0"},null,2)],{type:"application/json"}),a=URL.createObjectURL(t),n=document.createElement("a");n.href=a,n.download="badminton-training-data-".concat(new Date().toISOString().split("T")[0],".json"),document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(a)},importData:e=>new Promise((r,n)=>{let o=new FileReader;o.onload=e=>{try{var o;let n=JSON.parse(null===(o=e.target)||void 0===o?void 0:o.result);n.trainingData&&t(n.trainingData),n.userSettings&&a(n.userSettings),n.appState&&d(n.appState),r(!0)}catch(e){console.error("导入数据失败:",e),n(e)}},o.onerror=()=>{n(Error("文件读取失败"))},o.readAsText(e)}),clearAllData:()=>{t({}),a(i),d(s)}}}},2533:function(e,t,r){r.d(t,{cn:function(){return o}});var a=r(91),n=r(9827);function o(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,a.W)(t))}}}]);